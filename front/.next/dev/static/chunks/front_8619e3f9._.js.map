{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zivi7/mebel/front/lib/constants.ts"],"sourcesContent":["export const BRAND = {\n  name: \"Koenig Room\",\n};\n\nexport const CONTACTS = {\n  phoneDisplay: \"+7 (906) 230-20-22\",\n  phoneHref: \"tel:+79062302022\",\n  email: \"salon@koenigroom.ru\",\n  address: \"г. Калининград, ул. М. Гвардии 34к2\",\n};\n\nexport type CatalogCategory = {\n  title: string;\n  description: string;\n  imageSrc: string;\n  emphasis?: boolean;\n};\n\nexport const CATALOG_CATEGORIES: CatalogCategory[] = [\n  {\n    title: \"Шторы и ткани в интерьере\",\n    description: \"Премиальные ткани, пошив, установка\",\n    imageSrc: \"/catalog/decor.jpg\",\n    emphasis: true,\n  },\n  {\n    title: \"Жалюзи\",\n    description: \"Точный свет и приватность\",\n    imageSrc: \"/catalog/blinds.jpg\",\n  },\n  {\n    title: \"Римские шторы\",\n    description: \"Чистая геометрия и мягкий объём\",\n    imageSrc: \"/gray_hero.jpg\",\n  },\n  {\n    title: \"Декоративные карнизы\",\n    description: \"Акцент на деталях и архитектуре окна\",\n    imageSrc: \"/catalog/rails.jpg\",\n  },\n  {\n    title: \"Декор, фурнитура, аксессуары\",\n    description: \"Кисти, подхваты, ленты, материалы\",\n    imageSrc: \"/catalog/rugs.jpg\",\n  },\n  {\n    title: \"Ковры\",\n    description: \"Тактильность, тепло, завершённость\",\n    imageSrc: \"/catalog/bed.jpg\",\n  },\n  {\n    title: \"Постельное бельё\",\n    description: \"Комфорт и благородные фактуры\",\n    imageSrc: \"/2foto_dark.jpg\",\n  },\n  {\n    title: \"Интерьерные покрывала и подушки\",\n    description: \"Финальный штрих к интерьеру\",\n    imageSrc: \"/catalog/pillows.jpg\",\n  },\n];\n\nexport const NAV_LINKS = [\n  { label: \"Каталог\", href: \"#catalog\" },\n  { label: \"Шторы\", href: \"#curtains\" },\n  { label: \"Отзывы\", href: \"#reviews\" },\n  { label: \"FAQ\", href: \"#faq\" },\n  { label: \"Контакты\", href: \"#contacts\" },\n] as const;\n"],"names":[],"mappings":";;;;;;;;;;AAAO,MAAM,QAAQ;IACnB,MAAM;AACR;AAEO,MAAM,WAAW;IACtB,cAAc;IACd,WAAW;IACX,OAAO;IACP,SAAS;AACX;AASO,MAAM,qBAAwC;IACnD;QACE,OAAO;QACP,aAAa;QACb,UAAU;QACV,UAAU;IACZ;IACA;QACE,OAAO;QACP,aAAa;QACb,UAAU;IACZ;IACA;QACE,OAAO;QACP,aAAa;QACb,UAAU;IACZ;IACA;QACE,OAAO;QACP,aAAa;QACb,UAAU;IACZ;IACA;QACE,OAAO;QACP,aAAa;QACb,UAAU;IACZ;IACA;QACE,OAAO;QACP,aAAa;QACb,UAAU;IACZ;IACA;QACE,OAAO;QACP,aAAa;QACb,UAAU;IACZ;IACA;QACE,OAAO;QACP,aAAa;QACb,UAAU;IACZ;CACD;AAEM,MAAM,YAAY;IACvB;QAAE,OAAO;QAAW,MAAM;IAAW;IACrC;QAAE,OAAO;QAAS,MAAM;IAAY;IACpC;QAAE,OAAO;QAAU,MAAM;IAAW;IACpC;QAAE,OAAO;QAAO,MAAM;IAAO;IAC7B;QAAE,OAAO;QAAY,MAAM;IAAY;CACxC"}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zivi7/mebel/front/components/Container.tsx"],"sourcesContent":["import type { ReactNode } from \"react\";\n\nexport function Container({ children }: { children: ReactNode }) {\n  return (\n    <div className=\"mx-auto w-full max-w-6xl px-4 sm:px-6 lg:px-8\">\n      {children}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAEO,SAAS,UAAU,EAAE,QAAQ,EAA2B;IAC7D,qBACE,6LAAC;QAAI,WAAU;kBACZ;;;;;;AAGP;KANgB"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zivi7/mebel/front/components/icons.tsx"],"sourcesContent":["export function IconInstagram({ className }: { className?: string }) {\n  return (\n    <svg\n      className={className}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      aria-hidden=\"true\"\n    >\n      <path\n        d=\"M7 3h10a4 4 0 0 1 4 4v10a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V7a4 4 0 0 1 4-4Z\"\n        stroke=\"currentColor\"\n        strokeWidth=\"1.6\"\n      />\n      <path\n        d=\"M12 16a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z\"\n        stroke=\"currentColor\"\n        strokeWidth=\"1.6\"\n      />\n      <path\n        d=\"M17.5 6.5h.01\"\n        stroke=\"currentColor\"\n        strokeWidth=\"2.2\"\n        strokeLinecap=\"round\"\n      />\n    </svg>\n  );\n}\n\nexport function IconWhatsapp({ className }: { className?: string }) {\n  return (\n    <svg\n      className={className}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      aria-hidden=\"true\"\n    >\n      <path\n        d=\"M12 21a9 9 0 1 0-7.8-4.5L3 21l4.7-1.2A9 9 0 0 0 12 21Z\"\n        stroke=\"currentColor\"\n        strokeWidth=\"1.6\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M9.1 9.3c.2-.6.5-.7.8-.7h.6c.2 0 .4.1.5.4l.7 1.7c.1.2.1.5 0 .7l-.4.6c-.1.2-.1.5 0 .7.5.9 1.5 1.9 2.4 2.4.2.1.5.1.7 0l.6-.4c.2-.1.5-.1.7 0l1.7.7c.3.1.4.3.4.5v.6c0 .3-.1.6-.7.8-.7.2-2.2.3-4.6-1.2-2.4-1.6-4-4.5-4.1-4.9-.1-.5-.2-1.9.1-2.6Z\"\n        fill=\"currentColor\"\n        opacity=\"0.9\"\n      />\n    </svg>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;AAAO,SAAS,cAAc,EAAE,SAAS,EAA0B;IACjE,qBACE,6LAAC;QACC,WAAW;QACX,SAAQ;QACR,MAAK;QACL,OAAM;QACN,eAAY;;0BAEZ,6LAAC;gBACC,GAAE;gBACF,QAAO;gBACP,aAAY;;;;;;0BAEd,6LAAC;gBACC,GAAE;gBACF,QAAO;gBACP,aAAY;;;;;;0BAEd,6LAAC;gBACC,GAAE;gBACF,QAAO;gBACP,aAAY;gBACZ,eAAc;;;;;;;;;;;;AAItB;KA3BgB;AA6BT,SAAS,aAAa,EAAE,SAAS,EAA0B;IAChE,qBACE,6LAAC;QACC,WAAW;QACX,SAAQ;QACR,MAAK;QACL,OAAM;QACN,eAAY;;0BAEZ,6LAAC;gBACC,GAAE;gBACF,QAAO;gBACP,aAAY;gBACZ,gBAAe;;;;;;0BAEjB,6LAAC;gBACC,GAAE;gBACF,MAAK;gBACL,SAAQ;;;;;;;;;;;;AAIhB;MAtBgB"}},
    {"offset": {"line": 218, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zivi7/mebel/front/components/ThemeToggle.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\ntype Theme = \"light\" | \"dark\";\n\nfunction applyTheme(theme: Theme) {\n  document.documentElement.dataset.theme = theme;\n}\n\nexport function ThemeToggle() {\n  const [theme, setTheme] = useState<Theme>(\"light\");\n\n  useEffect(() => {\n    const saved = window.localStorage.getItem(\"theme\");\n    const initial: Theme = saved === \"dark\" || saved === \"light\" ? saved : \"light\";\n    setTheme(initial);\n    applyTheme(initial);\n  }, []);\n\n  function toggle() {\n    const next: Theme = theme === \"dark\" ? \"light\" : \"dark\";\n    setTheme(next);\n    applyTheme(next);\n    window.localStorage.setItem(\"theme\", next);\n  }\n\n  return (\n    <button\n      type=\"button\"\n      onClick={toggle}\n      className=\"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-black/10 bg-white/70 text-[color:var(--fg)] shadow-sm backdrop-blur transition hover:bg-white/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--ring)] dark:border-white/10 dark:bg-white/5 dark:hover:bg-white/10\"\n      aria-label=\"Переключить тему\"\n    >\n      <span className=\"text-sm leading-none\">\n        {theme === \"dark\" ? \"☾\" : \"☀\"}\n      </span>\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAMA,SAAS,WAAW,KAAY;IAC9B,SAAS,eAAe,CAAC,OAAO,CAAC,KAAK,GAAG;AAC3C;AAEO,SAAS;;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAQ;IAE1C,IAAA,0KAAS;iCAAC;YACR,MAAM,QAAQ,OAAO,YAAY,CAAC,OAAO,CAAC;YAC1C,MAAM,UAAiB,UAAU,UAAU,UAAU,UAAU,QAAQ;YACvE,SAAS;YACT,WAAW;QACb;gCAAG,EAAE;IAEL,SAAS;QACP,MAAM,OAAc,UAAU,SAAS,UAAU;QACjD,SAAS;QACT,WAAW;QACX,OAAO,YAAY,CAAC,OAAO,CAAC,SAAS;IACvC;IAEA,qBACE,6LAAC;QACC,MAAK;QACL,SAAS;QACT,WAAU;QACV,cAAW;kBAEX,cAAA,6LAAC;YAAK,WAAU;sBACb,UAAU,SAAS,MAAM;;;;;;;;;;;AAIlC;GA7BgB;KAAA"}},
    {"offset": {"line": 278, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zivi7/mebel/front/components/Header.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useEffect, useRef, useState } from \"react\";\n\nimport { BRAND, CATALOG_CATEGORIES, CONTACTS, NAV_LINKS } from \"@/lib/constants\";\nimport { Container } from \"@/components/Container\";\nimport { IconInstagram, IconWhatsapp } from \"@/components/icons\";\nimport { ThemeToggle } from \"@/components/ThemeToggle\";\n\nexport function Header() {\n  const [compact, setCompact] = useState(false);\n  const [catalogOpen, setCatalogOpen] = useState(false);\n  const [catalogRender, setCatalogRender] = useState(false);\n  const [catalogClosing, setCatalogClosing] = useState(false);\n  const [catalogTop, setCatalogTop] = useState<number>(64);\n  const openTimerRef = useRef<number | null>(null);\n  const closeTimerRef = useRef<number | null>(null);\n  const unmountTimerRef = useRef<number | null>(null);\n  const barRef = useRef<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    function onScroll() {\n      setCompact(window.scrollY > 24);\n    }\n\n    onScroll();\n    window.addEventListener(\"scroll\", onScroll, { passive: true });\n    return () => window.removeEventListener(\"scroll\", onScroll);\n  }, []);\n\n  useEffect(() => {\n    if (!catalogOpen) return;\n    function onKeyDown(e: KeyboardEvent) {\n      if (e.key === \"Escape\") setCatalogOpen(false);\n    }\n\n    window.addEventListener(\"keydown\", onKeyDown);\n    return () => window.removeEventListener(\"keydown\", onKeyDown);\n  }, [catalogOpen]);\n\n  useEffect(() => {\n    function updateTop() {\n      const el = barRef.current;\n      if (!el) return;\n      const rect = el.getBoundingClientRect();\n      setCatalogTop(Math.round(rect.bottom));\n    }\n\n    updateTop();\n    window.addEventListener(\"scroll\", updateTop, { passive: true });\n    window.addEventListener(\"resize\", updateTop);\n    return () => {\n      window.removeEventListener(\"scroll\", updateTop);\n      window.removeEventListener(\"resize\", updateTop);\n    };\n  }, []);\n\n  function clearTimers() {\n    if (openTimerRef.current) window.clearTimeout(openTimerRef.current);\n    if (closeTimerRef.current) window.clearTimeout(closeTimerRef.current);\n    if (unmountTimerRef.current) window.clearTimeout(unmountTimerRef.current);\n    openTimerRef.current = null;\n    closeTimerRef.current = null;\n    unmountTimerRef.current = null;\n  }\n\n  function scheduleOpen() {\n    clearTimers();\n    openTimerRef.current = window.setTimeout(() => setCatalogOpen(true), 80);\n  }\n\n  function scheduleClose() {\n    clearTimers();\n    closeTimerRef.current = window.setTimeout(() => setCatalogOpen(false), 140);\n  }\n\n  useEffect(() => {\n    if (catalogOpen) {\n      setCatalogClosing(false);\n      setCatalogRender(true);\n      if (unmountTimerRef.current) {\n        window.clearTimeout(unmountTimerRef.current);\n        unmountTimerRef.current = null;\n      }\n      return;\n    }\n\n    if (!catalogRender) return;\n    setCatalogClosing(true);\n    unmountTimerRef.current = window.setTimeout(() => {\n      setCatalogRender(false);\n      setCatalogClosing(false);\n      unmountTimerRef.current = null;\n    }, 920);\n  }, [catalogOpen, catalogRender]);\n\n  return (\n    <header className=\"sticky top-0 z-50\">\n      <div\n        className={`relative ${\n          compact\n            ? \"bg-[color:var(--bg)]/55 backdrop-blur supports-[backdrop-filter]:bg-[color:var(--bg)]/55\"\n            : \"bg-transparent\"\n        }`}\n      >\n        <div\n          ref={barRef}\n          className={`relative left-1/2 w-full -translate-x-1/2 transition-[max-width,margin,transform,border-radius,box-shadow,background-color,border-color] duration-500 ease-out will-change-transform ${\n            compact && !catalogRender\n              ? \"mt-3 max-w-[1120px] scale-[0.985] rounded-2xl border border-black/10 bg-[color:var(--bg)]/55 supports-[backdrop-filter]:bg-[color:var(--bg)]/55 shadow-[0_18px_60px_rgba(0,0,0,0.10)] dark:border-white/10\"\n              : \"max-w-[100%] border-b border-black/5 bg-transparent shadow-none dark:border-white/10\"\n          }`}\n        >\n          <Container>\n            <div className=\"relative flex h-16 items-center justify-between gap-3\">\n              <div className=\"flex min-w-0 items-center gap-4\">\n                <Link\n                  href=\"#top\"\n                  className=\"shrink-0 text-sm font-semibold tracking-wide text-[color:var(--fg)] transition hover:opacity-80\"\n                  aria-label=\"Наверх\"\n                >\n                  {BRAND.name}\n                </Link>\n\n                <nav\n                  className=\"hidden items-center gap-1 lg:flex\"\n                  onMouseLeave={() => scheduleClose()}\n                >\n                  {NAV_LINKS.map((l) => {\n                    const isCatalog = l.href === \"#catalog\";\n                    return (\n                      <div\n                        key={l.href}\n                        className=\"relative\"\n                        onMouseEnter={() => {\n                          if (isCatalog) scheduleOpen();\n                          else setCatalogOpen(false);\n                        }}\n                        onMouseLeave={() => {\n                          if (isCatalog) scheduleClose();\n                        }}\n                      >\n                        <Link\n                          href={l.href}\n                          className={`group inline-flex items-center rounded-xl px-3 py-2 text-sm text-[color:var(--muted)] transition hover:text-[color:var(--fg)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--ring)] ${\n                            isCatalog ? \"\" : \"\"\n                          }`}\n                        >\n                          <span className=\"relative\">\n                            {l.label}\n                            <span className=\"pointer-events-none absolute -bottom-1 left-0 h-px w-full origin-left scale-x-0 bg-[color:var(--accent)] transition-transform duration-300 group-hover:scale-x-100\" />\n                          </span>\n                        </Link>\n                      </div>\n                    );\n                  })}\n                </nav>\n              </div>\n\n              <div className=\"flex flex-nowrap items-center gap-2\">\n                <a\n                  href={CONTACTS.phoneHref}\n                  className=\"hidden shrink-0 whitespace-nowrap rounded-xl px-3 py-2 text-sm font-medium text-[color:var(--fg)] hover:bg-black/5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--ring)] dark:hover:bg-white/10 sm:inline-flex\"\n                  aria-label={`Позвонить: ${CONTACTS.phoneDisplay}`}\n                >\n                  {CONTACTS.phoneDisplay}\n                </a>\n\n              <a\n                href={`mailto:${CONTACTS.email}`}\n                className=\"hidden shrink-0 whitespace-nowrap rounded-xl px-3 py-2 text-sm text-[color:var(--muted)] hover:bg-black/5 hover:text-[color:var(--fg)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--ring)] dark:hover:bg-white/10 lg:inline-flex\"\n                aria-label={`Написать: ${CONTACTS.email}`}\n              >\n                {CONTACTS.email}\n              </a>\n\n              <div className=\"hidden items-center gap-1 sm:flex\">\n                <a\n                  href=\"#\"\n                  className=\"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-black/10 bg-white/70 text-[color:var(--fg)] shadow-sm backdrop-blur transition hover:bg-white/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--ring)] dark:border-white/10 dark:bg-white/5 dark:hover:bg-white/10\"\n                  aria-label=\"Instagram\"\n                >\n                  <IconInstagram className=\"h-5 w-5\" />\n                </a>\n                <a\n                  href=\"#\"\n                  className=\"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-black/10 bg-white/70 text-[color:var(--fg)] shadow-sm backdrop-blur transition hover:bg-white/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--ring)] dark:border-white/10 dark:bg-white/5 dark:hover:bg-white/10\"\n                  aria-label=\"WhatsApp\"\n                >\n                  <IconWhatsapp className=\"h-5 w-5\" />\n                </a>\n              </div>\n\n              <ThemeToggle />\n\n              <Link\n                href=\"#cta\"\n                className={`ml-2 hidden h-16 items-center justify-center px-5 text-sm font-semibold text-[color:var(--accent-contrast)] shadow-sm transition hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--ring)] sm:inline-flex -mr-4 sm:-mr-6 lg:-mr-8 ${\n                  compact\n                    ? \"rounded-r-2xl bg-[color:var(--accent)]\"\n                    : \"rounded-none bg-[color:var(--accent)]\"\n                }`}\n              >\n                Рассчитать\n              </Link>\n            </div>\n          </div>\n          </Container>\n\n        </div>\n      </div>\n\n      {catalogRender ? (\n        <div\n          className={`pointer-events-none fixed left-0 right-0 hidden lg:block`}\n          style={{ top: catalogTop }}\n          onMouseEnter={() => {\n            clearTimers();\n            setCatalogOpen(true);\n          }}\n          onMouseLeave={() => scheduleClose()}\n        >\n          <div\n            className={`pointer-events-auto w-full border-t border-black/5 bg-[color:var(--bg)]/55 supports-[backdrop-filter]:bg-[color:var(--bg)]/55 shadow-[0_18px_60px_rgba(0,0,0,0.12)] backdrop-blur transition-[opacity,transform] duration-[520ms] ease-out dark:border-white/10 transform-gpu ${\n              catalogOpen && !catalogClosing\n                ? \"translate-x-0 opacity-100\"\n                : \"-translate-x-full opacity-0\"\n            }`}\n          >\n            <div className=\"mx-auto w-full px-4 py-3 sm:px-6 lg:px-8\">\n              <div className=\"flex items-center gap-6 overflow-x-auto whitespace-nowrap pb-1 [scrollbar-width:none] [&::-webkit-scrollbar]:hidden\">\n                {CATALOG_CATEGORIES.map((c, idx) => (\n                  <Link\n                    key={c.title}\n                    href=\"#catalog\"\n                    className={`group flex-none rounded-xl px-2 py-2 text-sm font-semibold text-[color:var(--fg)] transition hover:text-[color:var(--accent)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--ring)]`}\n                    style={{\n                      animationName:\n                        catalogOpen && !catalogClosing\n                          ? (\"kr-snap-in\" as any)\n                          : (\"kr-snap-out\" as any),\n                      animationDuration: \"520ms\",\n                      animationTimingFunction: \"cubic-bezier(0.175, 0.885, 0.32, 1.275)\",\n                      animationFillMode: \"both\",\n                      animationDelay: `${Math.min(idx * 55, 330)}ms`,\n                    }}\n                  >\n                    <span className=\"relative\">\n                      {c.title}\n                      <span className=\"pointer-events-none absolute -bottom-1 left-0 h-px w-full origin-left scale-x-0 bg-[color:var(--accent)] transition-transform duration-300 group-hover:scale-x-100\" />\n                    </span>\n                  </Link>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : null}\n    </header>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 671, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zivi7/mebel/front/components/MobileCtaBar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\n\nimport { CONTACTS } from \"@/lib/constants\";\n\nexport function MobileCtaBar() {\n  return (\n    <div className=\"fixed inset-x-0 bottom-0 z-50 border-t border-black/5 bg-[color:var(--bg)]/78 p-3 backdrop-blur dark:border-white/10 sm:hidden\">\n      <div className=\"mx-auto grid max-w-md grid-cols-2 gap-2\">\n        <a\n          href={CONTACTS.phoneHref}\n          className=\"inline-flex h-12 items-center justify-center rounded-2xl border border-black/10 bg-white/70 text-sm font-semibold text-[color:var(--fg)] shadow-sm backdrop-blur transition hover:bg-white/85 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--ring)] dark:border-white/10 dark:bg-white/5 dark:hover:bg-white/10\"\n        >\n          Позвонить\n        </a>\n        <Link\n          href=\"#cta\"\n          className=\"inline-flex h-12 items-center justify-center rounded-2xl bg-[color:var(--accent)] text-sm font-semibold text-[color:var(--accent-contrast)] shadow-sm transition hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--ring)]\"\n        >\n          Рассчитать\n        </Link>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAJA;;;;AAMO,SAAS;IACd,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBACC,MAAM,wIAAQ,CAAC,SAAS;oBACxB,WAAU;8BACX;;;;;;8BAGD,6LAAC,0KAAI;oBACH,MAAK;oBACL,WAAU;8BACX;;;;;;;;;;;;;;;;;AAMT;KAnBgB"}},
    {"offset": {"line": 728, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zivi7/mebel/front/sections/PreCatalogTeaser.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useRef, useState } from \"react\";\n\ntype Proof = {\n  title: string;\n  description: string;\n};\n\nexport function PreCatalogTeaser() {\n  const values = useMemo(\n    () => [\n      \"Точность\",\n      \"Фактура\",\n      \"Свет\",\n      \"Посадка\",\n      \"Чистый монтаж\",\n      \"Под ключ\",\n      \"Премиальные материалы\",\n      \"Спокойный сервис\",\n      \"Детали решают\",\n    ],\n    [],\n  );\n\n  const proofs: Proof[] = useMemo(\n    () => [\n      {\n        title: \"Материалы выглядят дороже\",\n        description:\n          \"Ткани и фактуры, которые читаются в свете. Не “просто шторы”, а атмосфера комнаты.\",\n      },\n      {\n        title: \"Точность в сантиметрах\",\n        description:\n          \"Посадка, длина и складка — то, что отличает премиум. Согласуем и доводим до чистого вида.\",\n      },\n      {\n        title: \"Спокойный сервис\",\n        description:\n          \"Делаем под ключ: подбор, пошив, монтаж. Без шума и лишних вопросов — с понятным результатом.\",\n      },\n    ],\n    [],\n  );\n\n  const rootRef = useRef<HTMLElement | null>(null);\n  const visualRef = useRef<HTMLDivElement | null>(null);\n  const [inView, setInView] = useState(false);\n\n  useEffect(() => {\n    const el = rootRef.current;\n    if (!el) return;\n\n    const io = new IntersectionObserver(\n      (entries) => {\n        if (entries[0]) setInView(entries[0].isIntersecting);\n      },\n      { threshold: 0.2, rootMargin: \"-10% 0px -35% 0px\" },\n    );\n\n    io.observe(el);\n    return () => io.disconnect();\n  }, []);\n\n  useEffect(() => {\n    let raf = 0;\n\n    function tick() {\n      const root = rootRef.current;\n      const v = visualRef.current;\n      if (!root || !v) {\n        raf = requestAnimationFrame(tick);\n        return;\n      }\n\n      const rect = root.getBoundingClientRect();\n      const vh = window.innerHeight || 1;\n      const t = (vh - rect.top) / (vh + rect.height);\n      const p = Math.min(1, Math.max(0, t));\n\n      const dy = (p - 0.5) * 18;\n      v.style.transform = `translate3d(0, ${dy.toFixed(2)}px, 0)`;\n\n      raf = requestAnimationFrame(tick);\n    }\n\n    raf = requestAnimationFrame(tick);\n    return () => {\n      if (raf) cancelAnimationFrame(raf);\n    };\n  }, []);\n\n  return (\n    <section ref={rootRef} aria-label=\"Почему Koenig Room\" className=\"pt-0\">\n      <div className=\"w-full\">\n        <div className=\"bg-[color:var(--bg)]\">\n          <div className=\"kr-ticker bg-black/[0.015] py-4 dark:bg-white/[0.02]\">\n            <div className=\"kr-ticker-track gap-12 px-4 text-sm font-semibold tracking-[0.22em] text-[color:var(--fg)]/65 sm:px-6 sm:text-base lg:px-8\">\n              {[...values, ...values].map((v, i) => (\n                <div key={`${v}-${i}`} className=\"flex items-center gap-12\">\n                  <span className=\"whitespace-nowrap uppercase\">{v}</span>\n                  <span className=\"h-[7px] w-[7px] rotate-45 bg-black/15 dark:bg-white/20\" />\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid items-stretch lg:grid-cols-12\">\n          <div className=\"lg:col-span-6\">\n            <div className=\"mx-auto max-w-7xl px-4 py-12 sm:px-6 sm:py-14 lg:px-8 lg:py-16\">\n              <div className=\"flex min-h-[660px] flex-col lg:min-h-[760px]\">\n                <div>\n                  <div className=\"text-xs font-semibold tracking-[0.32em] text-[color:var(--muted)]\">\n                    ЦЕННОСТИ KOENIG ROOM\n                  </div>\n                  <h2 className=\"text-3xl font-semibold tracking-tight text-[color:var(--fg)] sm:text-4xl\">\n                    Каталог — это быстро.\n                    <span className=\"text-[color:var(--muted)]\"> Но “дорого” рождается до него.</span>\n                  </h2>\n                  <p className=\"mt-4 max-w-xl text-base leading-7 text-[color:var(--muted)] sm:text-lg\">\n                    Ткани, посадка и свет — это то, что делает интерьер цельным. Мы собираем это под\n                    ключ и доводим до чистого результата.\n                  </p>\n                </div>\n\n                <div className=\"mt-8 grid gap-9\">\n                  {proofs.map((p, idx) => (\n                    <div\n                      key={p.title}\n                      className={`transition-[opacity,transform] duration-700 ${\n                        inView ? \"translate-y-0 opacity-100\" : \"translate-y-2 opacity-0\"\n                      }`}\n                      style={{ transitionDelay: `${120 + idx * 140}ms` }}\n                    >\n                      <div className=\"grid grid-cols-[44px_1fr] items-start gap-6\">\n                        <div className=\"pt-1 text-base font-semibold tracking-tight text-[color:var(--muted)]\">\n                          {String(idx + 1).padStart(2, \"0\")}\n                        </div>\n                        <div>\n                          <div className=\"text-base font-semibold text-[color:var(--fg)]\">{p.title}</div>\n                          <div className=\"mt-2 text-base leading-7 text-[color:var(--muted)]\">\n                            {p.description}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n\n                <div\n                  className={`mt-10 transition-[opacity,transform] duration-700 ${\n                    inView ? \"translate-y-0 opacity-100\" : \"translate-y-2 opacity-0\"\n                  }`}\n                  style={{ transitionDelay: \"640ms\" }}\n                >\n                  <a\n                    href=\"/about\"\n                    className=\"inline-flex h-12 w-full items-center justify-center rounded-full bg-[color:var(--accent)] px-6 text-base font-semibold text-[color:var(--accent-contrast)] shadow-sm transition hover:opacity-95 sm:w-auto\"\n                  >\n                    О нас\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"lg:col-span-6\">\n            <div className=\"relative min-h-[660px] overflow-hidden lg:min-h-[760px]\">\n              <div ref={visualRef} className=\"absolute inset-0\">\n                <video\n                  className=\"absolute inset-0 h-full w-full object-cover\"\n                  src=\"/why%20us.mp4\"\n                  autoPlay\n                  muted\n                  loop\n                  playsInline\n                  preload=\"metadata\"\n                />\n                <div className=\"absolute inset-0 bg-[linear-gradient(to_top,rgba(0,0,0,0.50),transparent_62%)]\" />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AASO,SAAS;;IACd,MAAM,SAAS,IAAA,wKAAO;4CACpB,IAAM;gBACJ;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;2CACD,EAAE;IAGJ,MAAM,SAAkB,IAAA,wKAAO;4CAC7B,IAAM;gBACJ;oBACE,OAAO;oBACP,aACE;gBACJ;gBACA;oBACE,OAAO;oBACP,aACE;gBACJ;gBACA;oBACE,OAAO;oBACP,aACE;gBACJ;aACD;2CACD,EAAE;IAGJ,MAAM,UAAU,IAAA,uKAAM,EAAqB;IAC3C,MAAM,YAAY,IAAA,uKAAM,EAAwB;IAChD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IAErC,IAAA,0KAAS;sCAAC;YACR,MAAM,KAAK,QAAQ,OAAO;YAC1B,IAAI,CAAC,IAAI;YAET,MAAM,KAAK,IAAI;8CACb,CAAC;oBACC,IAAI,OAAO,CAAC,EAAE,EAAE,UAAU,OAAO,CAAC,EAAE,CAAC,cAAc;gBACrD;6CACA;gBAAE,WAAW;gBAAK,YAAY;YAAoB;YAGpD,GAAG,OAAO,CAAC;YACX;8CAAO,IAAM,GAAG,UAAU;;QAC5B;qCAAG,EAAE;IAEL,IAAA,0KAAS;sCAAC;YACR,IAAI,MAAM;YAEV,SAAS;gBACP,MAAM,OAAO,QAAQ,OAAO;gBAC5B,MAAM,IAAI,UAAU,OAAO;gBAC3B,IAAI,CAAC,QAAQ,CAAC,GAAG;oBACf,MAAM,sBAAsB;oBAC5B;gBACF;gBAEA,MAAM,OAAO,KAAK,qBAAqB;gBACvC,MAAM,KAAK,OAAO,WAAW,IAAI;gBACjC,MAAM,IAAI,CAAC,KAAK,KAAK,GAAG,IAAI,CAAC,KAAK,KAAK,MAAM;gBAC7C,MAAM,IAAI,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG;gBAElC,MAAM,KAAK,CAAC,IAAI,GAAG,IAAI;gBACvB,EAAE,KAAK,CAAC,SAAS,GAAG,CAAC,eAAe,EAAE,GAAG,OAAO,CAAC,GAAG,MAAM,CAAC;gBAE3D,MAAM,sBAAsB;YAC9B;YAEA,MAAM,sBAAsB;YAC5B;8CAAO;oBACL,IAAI,KAAK,qBAAqB;gBAChC;;QACF;qCAAG,EAAE;IAEL,qBACE,6LAAC;QAAQ,KAAK;QAAS,cAAW;QAAqB,WAAU;kBAC/D,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;sCACZ;mCAAI;mCAAW;6BAAO,CAAC,GAAG,CAAC,CAAC,GAAG,kBAC9B,6LAAC;oCAAsB,WAAU;;sDAC/B,6LAAC;4CAAK,WAAU;sDAA+B;;;;;;sDAC/C,6LAAC;4CAAK,WAAU;;;;;;;mCAFR,GAAG,EAAE,CAAC,EAAE,GAAG;;;;;;;;;;;;;;;;;;;;8BAS7B,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;;8DACC,6LAAC;oDAAI,WAAU;8DAAoE;;;;;;8DAGnF,6LAAC;oDAAG,WAAU;;wDAA2E;sEAEvF,6LAAC;4DAAK,WAAU;sEAA4B;;;;;;;;;;;;8DAE9C,6LAAC;oDAAE,WAAU;8DAAyE;;;;;;;;;;;;sDAMxF,6LAAC;4CAAI,WAAU;sDACZ,OAAO,GAAG,CAAC,CAAC,GAAG,oBACd,6LAAC;oDAEC,WAAW,CAAC,4CAA4C,EACtD,SAAS,8BAA8B,2BACvC;oDACF,OAAO;wDAAE,iBAAiB,GAAG,MAAM,MAAM,IAAI,EAAE,CAAC;oDAAC;8DAEjD,cAAA,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAI,WAAU;0EACZ,OAAO,MAAM,GAAG,QAAQ,CAAC,GAAG;;;;;;0EAE/B,6LAAC;;kFACC,6LAAC;wEAAI,WAAU;kFAAkD,EAAE,KAAK;;;;;;kFACxE,6LAAC;wEAAI,WAAU;kFACZ,EAAE,WAAW;;;;;;;;;;;;;;;;;;mDAbf,EAAE,KAAK;;;;;;;;;;sDAqBlB,6LAAC;4CACC,WAAW,CAAC,kDAAkD,EAC5D,SAAS,8BAA8B,2BACvC;4CACF,OAAO;gDAAE,iBAAiB;4CAAQ;sDAElC,cAAA,6LAAC;gDACC,MAAK;gDACL,WAAU;0DACX;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAQT,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAI,KAAK;oCAAW,WAAU;;sDAC7B,6LAAC;4CACC,WAAU;4CACV,KAAI;4CACJ,QAAQ;4CACR,KAAK;4CACL,IAAI;4CACJ,WAAW;4CACX,SAAQ;;;;;;sDAEV,6LAAC;4CAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ/B;GAnLgB;KAAA"}},
    {"offset": {"line": 1089, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zivi7/mebel/front/sections/PremiumCurtainsAd.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useRef, useState } from \"react\";\n\nimport { Container } from \"@/components/Container\";\n\ntype Scene = {\n  kicker: string;\n  title: string;\n  subtitle: string;\n  videoSrc: string;\n};\n\nfunction clamp01(v: number) {\n  return Math.min(1, Math.max(0, v));\n}\n\nexport function PremiumCurtainsAd() {\n  const scenes: Scene[] = useMemo(\n    () => [\n      {\n        kicker: \"PREMIUM FILM\",\n        title: \"Ткань ловит свет\",\n        subtitle: \"Штора — это не про окно. Это про атмосферу комнаты.\",\n        videoSrc: \"/0-3scene.alli60.mp4\",\n      },\n      {\n        kicker: \"PREMIUM FILM\",\n        title: \"Складка решает всё\",\n        subtitle: \"Линии, длина и вес ткани делают интерьер дороже за секунды.\",\n        videoSrc: \"/3-6scene.alli60.mp4\",\n      },\n      {\n        kicker: \"PREMIUM FILM\",\n        title: \"Монтаж — это ювелирка\",\n        subtitle: \"Чистая установка без компромиссов. Видно сразу.\",\n        videoSrc: \"/instryments.alli60.mp4\",\n      },\n    ],\n    [],\n  );\n\n  const sectionRef = useRef<HTMLElement | null>(null);\n  const videoARef = useRef<HTMLVideoElement | null>(null);\n  const videoBRef = useRef<HTMLVideoElement | null>(null);\n  const durationsRef = useRef<Record<string, number>>({});\n  const [progress, setProgress] = useState(0);\n  const [renderProgress, setRenderProgress] = useState(0);\n  const [allowExit, setAllowExit] = useState(false);\n  const [activeSrc, setActiveSrc] = useState<string>(scenes[0]?.videoSrc ?? \"\");\n  const [pendingSrc, setPendingSrc] = useState<string | null>(null);\n  const [activeLayer, setActiveLayer] = useState<0 | 1>(0);\n  const [pendingReady, setPendingReady] = useState(false);\n  const [crossfade, setCrossfade] = useState(false);\n  const [isSwitching, setIsSwitching] = useState(false);\n  const lastTimeRef = useRef<number>(0);\n  const smoothProgressRef = useRef<number>(0);\n  const lastRawProgressRef = useRef<number>(0);\n  const lastVelTsRef = useRef<number>(0);\n  const velEmaRef = useRef<number>(0);\n  const commitTimerRef = useRef<number | null>(null);\n\n  useEffect(() => {\n    let raf = 0;\n\n    function update() {\n      const el = sectionRef.current;\n      if (!el) return;\n\n      const rect = el.getBoundingClientRect();\n      const viewportH = window.innerHeight || 1;\n\n      const total = rect.height - viewportH;\n      const scrolled = -rect.top;\n      const p = total <= 0 ? 0 : clamp01(scrolled / total);\n      setProgress(p);\n\n      if (!allowExit && total > 0) {\n        const absTop = rect.top + window.scrollY;\n        const gateScrollY = absTop + total * ((scenes.length - 0.02) / scenes.length);\n        if (window.scrollY > gateScrollY) {\n          window.scrollTo({ top: gateScrollY, left: 0, behavior: \"auto\" });\n        }\n      }\n    }\n\n    function onScroll() {\n      if (raf) cancelAnimationFrame(raf);\n      raf = requestAnimationFrame(() => {\n        update();\n        raf = 0;\n      });\n    }\n\n    update();\n    window.addEventListener(\"scroll\", onScroll, { passive: true });\n    window.addEventListener(\"resize\", onScroll);\n    return () => {\n      if (raf) cancelAnimationFrame(raf);\n      window.removeEventListener(\"scroll\", onScroll);\n      window.removeEventListener(\"resize\", onScroll);\n    };\n  }, [allowExit, scenes.length]);\n\n  useEffect(() => {\n    let raf = 0;\n\n    function smoothstep(edge0: number, edge1: number, x: number) {\n      const t = clamp01((x - edge0) / Math.max(1e-6, edge1 - edge0));\n      return t * t * (3 - 2 * t);\n    }\n\n    function tick() {\n      const now = performance.now();\n      const dt = Math.max(1, now - (lastVelTsRef.current || now));\n      lastVelTsRef.current = now;\n\n      const raw = progress;\n      const lastRaw = lastRawProgressRef.current;\n      const vel = Math.abs(raw - lastRaw) / dt;\n      lastRawProgressRef.current = raw;\n\n      // Smooth velocity a bit so tiny wheel pulses don't flip the mode.\n      velEmaRef.current = velEmaRef.current * 0.85 + vel * 0.15;\n      const velSmooth = velEmaRef.current;\n\n      // vel ~ 0..0.003 (depends on wheel + section height). Below vSlow => pronounced slow-mo.\n      const vSlow = 0.00025;\n      const vFast = 0.0011;\n\n      // When scrolling fast -> follow quickly.\n      // When slow/near-zero -> ease to target very slowly (continuous, no stepping), coming to rest in ~3s.\n      const fastMix = smoothstep(vSlow, vFast, velSmooth);\n      const sp = smoothProgressRef.current;\n\n      const dtSec = dt / 1000;\n      const tauFast = 0.10;\n      const tauSlow = 1.25;\n      const tau = tauSlow + (tauFast - tauSlow) * fastMix;\n      const alpha = 1 - Math.exp(-dtSec / Math.max(1e-3, tau));\n\n      const next = sp + (raw - sp) * alpha;\n      smoothProgressRef.current = next;\n      setRenderProgress(next);\n\n      raf = requestAnimationFrame(tick);\n    }\n\n    raf = requestAnimationFrame(tick);\n    return () => {\n      if (raf) cancelAnimationFrame(raf);\n    };\n  }, [progress]);\n\n  const n = scenes.length;\n  const scaled = renderProgress * n;\n  const active = Math.min(n - 1, Math.floor(scaled));\n  const t = clamp01(scaled - active);\n\n  useEffect(() => {\n    const src = scenes[active]?.videoSrc;\n    if (!src) return;\n    if (src === activeSrc) return;\n    lastTimeRef.current = 0;\n    setIsSwitching(true);\n    setPendingSrc(src);\n  }, [active, activeSrc, scenes]);\n\n  useEffect(() => {\n    if (!pendingSrc) return;\n    setPendingReady(false);\n    setCrossfade(false);\n    if (commitTimerRef.current) {\n      window.clearTimeout(commitTimerRef.current);\n      commitTimerRef.current = null;\n    }\n  }, [pendingSrc]);\n\n  useEffect(() => {\n    if (!pendingSrc) return;\n    if (!pendingReady) return;\n    if (crossfade) return;\n\n    setCrossfade(true);\n\n    commitTimerRef.current = window.setTimeout(() => {\n      const nextLayer: 0 | 1 = activeLayer === 0 ? 1 : 0;\n      setActiveLayer(nextLayer);\n      setActiveSrc(pendingSrc);\n      setPendingSrc(null);\n      setPendingReady(false);\n      setCrossfade(false);\n      setIsSwitching(false);\n      commitTimerRef.current = null;\n    }, 360);\n  }, [activeLayer, crossfade, pendingReady, pendingSrc]);\n\n  useEffect(() => {\n    const src = scenes[active]?.videoSrc;\n    if (!src) return;\n\n    let raf = 0;\n\n    function tick() {\n      const activeVideo = activeLayer === 0 ? videoARef.current : videoBRef.current;\n      const pendingVideo = activeLayer === 0 ? videoBRef.current : videoARef.current;\n      if (!activeVideo) return;\n\n      const srcNow = scenes[active]?.videoSrc;\n      if (!srcNow) return;\n\n      const duration = durationsRef.current[srcNow] ?? activeVideo.duration ?? 0;\n      if (!Number.isFinite(duration) || duration <= 0) {\n        raf = requestAnimationFrame(tick);\n        return;\n      }\n\n      if (!Number.isFinite(activeVideo.duration) || activeVideo.readyState < 2) {\n        raf = requestAnimationFrame(tick);\n        return;\n      }\n\n      const target = clamp01(t) * Math.max(0.001, duration - 0.05);\n      const prev = lastTimeRef.current || 0;\n\n      // Additional tiny smoothing (time-domain) to remove decoder micro-jitter.\n      // renderProgress already eases to rest over ~3s on scroll stop.\n      const alpha = 0.9;\n\n      const next = prev + (target - prev) * alpha;\n      lastTimeRef.current = next;\n\n      // Lock user in section until the last scene has effectively reached its end.\n      if (!allowExit && active === scenes.length - 1) {\n        if (duration > 0 && next >= Math.max(0, duration - 1)) {\n          setAllowExit(true);\n        }\n      }\n      try {\n        activeVideo.currentTime = next;\n        if (isSwitching && pendingVideo && pendingVideo.readyState >= 2) {\n          pendingVideo.currentTime = next;\n        }\n      } catch {\n        // ignore\n      }\n\n      raf = requestAnimationFrame(tick);\n    }\n\n    raf = requestAnimationFrame(tick);\n    return () => {\n      if (raf) cancelAnimationFrame(raf);\n    };\n  }, [active, t, scenes, renderProgress, activeLayer, isSwitching, allowExit]);\n\n  return (\n    <section\n      ref={sectionRef}\n      className=\"relative bg-[#0b0b0b] text-[#f7f7f7]\"\n      style={{ height: `${(n + 1) * 100}vh` }}\n    >\n      <div className=\"sticky top-0 h-screen overflow-hidden\">\n        <div className=\"absolute inset-0\">\n          <video\n            ref={videoARef}\n            className=\"absolute inset-0 h-full w-full object-cover\"\n            src={activeLayer === 0 ? activeSrc : pendingSrc ?? activeSrc}\n            muted\n            playsInline\n            preload=\"auto\"\n            style={{\n              opacity:\n                activeLayer === 0\n                  ? crossfade\n                    ? 0\n                    : 1\n                  : crossfade\n                    ? 1\n                    : 0,\n              transition: \"opacity 320ms ease\",\n            }}\n            onLoadedMetadata={(e) => {\n              const v = e.currentTarget;\n              const srcKey = activeLayer === 0 ? activeSrc : pendingSrc;\n              if (srcKey && Number.isFinite(v.duration) && v.duration > 0) {\n                durationsRef.current[srcKey] = v.duration;\n              }\n              try {\n                v.pause();\n              } catch {\n                // ignore\n              }\n            }}\n            onCanPlayThrough={() => {\n              if (pendingSrc && activeLayer !== 0) setPendingReady(true);\n            }}\n          />\n\n          <video\n            ref={videoBRef}\n            className=\"absolute inset-0 h-full w-full object-cover\"\n            src={activeLayer === 1 ? activeSrc : pendingSrc ?? activeSrc}\n            muted\n            playsInline\n            preload=\"auto\"\n            style={{\n              opacity:\n                activeLayer === 1\n                  ? crossfade\n                    ? 0\n                    : 1\n                  : crossfade\n                    ? 1\n                    : 0,\n              transition: \"opacity 320ms ease\",\n            }}\n            onLoadedMetadata={(e) => {\n              const v = e.currentTarget;\n              const srcKey = activeLayer === 1 ? activeSrc : pendingSrc;\n              if (srcKey && Number.isFinite(v.duration) && v.duration > 0) {\n                durationsRef.current[srcKey] = v.duration;\n              }\n              try {\n                v.pause();\n              } catch {\n                // ignore\n              }\n            }}\n            onCanPlayThrough={() => {\n              if (pendingSrc && activeLayer !== 1) setPendingReady(true);\n            }}\n          />\n          <div className=\"absolute inset-0 bg-[radial-gradient(1200px_circle_at_20%_20%,rgba(255,255,255,0.08),transparent_55%),linear-gradient(to_top,rgba(0,0,0,0.62),rgba(0,0,0,0.18),rgba(0,0,0,0.72))]\" />\n          <div className=\"absolute inset-0 bg-black opacity-0\" />\n        </div>\n\n        <Container>\n          <div className=\"relative z-10 grid h-screen items-end pb-10 sm:pb-14\">\n            <div className=\"max-w-3xl\">\n              <div\n                className=\"text-xs font-semibold tracking-[0.42em] text-white/65\"\n                style={{\n                  opacity: 0.72 + 0.28 * (1 - Math.abs(t - 0.5) * 2),\n                }}\n              >\n                {scenes[active]?.kicker}\n              </div>\n              <h2\n                className=\"mt-4 text-balance text-3xl font-semibold leading-tight tracking-tight text-white sm:text-5xl\"\n                style={{\n                  transform: `translateY(${Math.round((1 - t) * 10)}px)`,\n                  opacity: 0.88 + 0.12 * t,\n                  transition: \"opacity 240ms ease\",\n                }}\n              >\n                {scenes[active]?.title}\n              </h2>\n              <p\n                className=\"mt-3 max-w-2xl text-pretty text-sm leading-6 text-white/75 sm:text-base\"\n                style={{\n                  transform: `translateY(${Math.round((1 - t) * 12)}px)`,\n                  opacity: 0.72 + 0.28 * t,\n                  transition: \"opacity 240ms ease\",\n                }}\n              >\n                {scenes[active]?.subtitle}\n              </p>\n\n              <div className=\"mt-6 flex items-center gap-3\">\n                <a\n                  href=\"#cta\"\n                  className=\"inline-flex h-12 items-center justify-center rounded-xl bg-white px-5 text-sm font-semibold text-black shadow-sm transition hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/50\"\n                >\n                  Рассчитать проект\n                </a>\n                <a\n                  href=\"#catalog\"\n                  className=\"inline-flex h-12 items-center justify-center rounded-xl border border-white/20 bg-white/5 px-5 text-sm font-semibold text-white shadow-sm backdrop-blur transition hover:bg-white/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/50\"\n                >\n                  Смотреть решения\n                </a>\n              </div>\n\n              <div className=\"mt-8 h-1 w-full max-w-lg rounded-full bg-white/10\">\n                <div\n                  className=\"h-1 rounded-full bg-white/65\"\n                  style={{ width: `${Math.round(renderProgress * 100)}%` }}\n                />\n              </div>\n            </div>\n          </div>\n        </Container>\n      </div>\n    </section>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1577, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zivi7/mebel/front/sections/ScrollStory.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\n\nimport { Container } from \"@/components/Container\";\n\ntype Step = {\n  title: string;\n  description: string;\n  overlayLabel: string;\n  videoSrc: string;\n};\n\nexport function ScrollStory() {\n  const steps: Step[] = useMemo(\n    () => [\n      {\n        title: \"Свет и приватность\",\n        description:\n          \"Настраиваем: мягкий дневной свет или полное затемнение. Вы получаете красивый интерьер и комфорт.\",\n        overlayLabel: \"Blackout / полупрозрачные\",\n        videoSrc: \"/scroll_video.mp4\",\n      },\n      {\n        title: \"Фактура ткани\",\n        description:\n          \"Тактильность и складка решают ощущение премиальности. Подбираем материал под интерьер и сценарий комнаты.\",\n        overlayLabel: \"Фактура / плотность\",\n        videoSrc: \"/3.1.mp4\",\n      },\n      {\n        title: \"Декор и детали\",\n        description:\n          \"Карнизы, подхваты, фурнитура и аксессуары — именно они делают проект законченно дорогим.\",\n        overlayLabel: \"Декор / фурнитура\",\n        videoSrc: \"/3.2.mp4\",\n      },\n    ],\n    [],\n  );\n\n  const [active, setActive] = useState(0);\n\n  useEffect(() => {\n    const els = Array.from(document.querySelectorAll(\"[data-kr-step]\"));\n    if (els.length === 0) return;\n\n    const io = new IntersectionObserver(\n      (entries) => {\n        const visible = entries\n          .filter((e) => e.isIntersecting)\n          .sort((a, b) => (b.intersectionRatio ?? 0) - (a.intersectionRatio ?? 0));\n        if (visible[0]) {\n          const idx = Number((visible[0].target as HTMLElement).dataset.krStep);\n          if (!Number.isNaN(idx)) setActive(idx);\n        }\n      },\n      {\n        root: null,\n        threshold: [0.2, 0.35, 0.5, 0.65],\n        rootMargin: \"-20% 0px -55% 0px\",\n      },\n    );\n\n    els.forEach((el) => io.observe(el));\n    return () => io.disconnect();\n  }, []);\n\n  return (\n    <section className=\"py-10 sm:py-14\">\n      <Container>\n        <div className=\"grid gap-10 lg:grid-cols-12\">\n          <div className=\"lg:col-span-6\">\n            <div className=\"sticky top-24\">\n              <div className=\"relative overflow-hidden rounded-[28px] border border-black/5 bg-white/50 shadow-sm backdrop-blur dark:border-white/10 dark:bg-white/5\">\n                <div className=\"absolute inset-0 bg-[radial-gradient(700px_circle_at_15%_10%,var(--glow),transparent_60%)]\" />\n\n                <div className=\"relative aspect-[4/3]\">\n                  {steps.map((s, idx) => (\n                    <div\n                      key={s.title}\n                      className=\"absolute inset-0 opacity-0 transition-[opacity,transform] duration-700 will-change-transform\"\n                      style={{ opacity: active === idx ? 1 : 0 }}\n                    >\n                      <div\n                        className=\"absolute inset-0\"\n                        style={{\n                          clipPath: \"ellipse(60% 48% at 52% 50%)\",\n                        }}\n                      >\n                        <video\n                          className={`h-full w-full object-cover transition-transform duration-700 ${\n                            active === idx ? \"scale-[1.06]\" : \"scale-[1.02]\"\n                          }`}\n                          src={s.videoSrc}\n                          autoPlay={active === idx}\n                          muted\n                          loop\n                          playsInline\n                          preload=\"metadata\"\n                        />\n                      </div>\n                      <div className=\"absolute inset-0 bg-[linear-gradient(to_top,rgba(0,0,0,0.62),transparent_60%)]\" />\n                    </div>\n                  ))}\n\n                  <div className=\"absolute inset-0 opacity-30\">\n                    <div className=\"absolute -left-10 top-10 h-32 w-32 rounded-full border border-black/10 bg-white/20 backdrop-blur dark:border-white/10\" />\n                    <div className=\"absolute -right-12 bottom-10 h-40 w-40 rounded-full border border-black/10 bg-white/20 backdrop-blur dark:border-white/10\" />\n                  </div>\n\n                  <div className=\"absolute left-5 top-5 rounded-full border border-white/20 bg-black/35 px-3 py-1 text-xs font-semibold tracking-wide text-white/90 backdrop-blur\">\n                    {steps[active]?.overlayLabel}\n                  </div>\n\n                  <div className=\"absolute right-6 top-6\">\n                    <div className=\"relative h-12 w-12\">\n                      <div className=\"absolute inset-0 rounded-full bg-white/20\" />\n                      <div className=\"absolute inset-0 animate-[kr-ping_1.8s_ease-out_infinite] rounded-full border border-white/60\" />\n                      <div className=\"absolute left-1/2 top-1/2 h-2.5 w-2.5 -translate-x-1/2 -translate-y-1/2 rounded-full bg-white\" />\n                    </div>\n                  </div>\n\n                  <div className=\"absolute bottom-0 left-0 right-0 p-6\">\n                    <div className=\"text-2xl font-semibold tracking-tight text-white\">\n                      {steps[active]?.title}\n                    </div>\n                    <div className=\"mt-2 max-w-md text-sm leading-6 text-white/80\">\n                      {steps[active]?.description}\n                    </div>\n                  </div>\n\n                  <svg\n                    className=\"absolute inset-0 h-full w-full\"\n                    viewBox=\"0 0 100 100\"\n                    preserveAspectRatio=\"none\"\n                    aria-hidden=\"true\"\n                  >\n                    <path\n                      d=\"M20,78 C30,58 38,52 50,50 C62,48 70,56 82,78\"\n                      fill=\"none\"\n                      stroke=\"rgba(255,255,255,0.72)\"\n                      strokeWidth=\"0.9\"\n                      strokeLinecap=\"round\"\n                      strokeDasharray=\"2 2\"\n                      style={{\n                        opacity: active === 1 ? 1 : 0.12,\n                        transition: \"opacity 600ms ease\",\n                      }}\n                    />\n                  </svg>\n                </div>\n              </div>\n\n              <div className=\"mt-4 text-xs text-[color:var(--muted)]\">\n                Скролль вниз — подсветка меняется, как в продуктовых сторителлингах.\n              </div>\n            </div>\n          </div>\n\n          <div className=\"lg:col-span-6\">\n            <div className=\"text-xs font-semibold tracking-[0.32em] text-[color:var(--muted)]\">\n              ПРОЦЕСС\n            </div>\n            <h2 className=\"mt-4 text-3xl font-semibold tracking-tight text-[color:var(--fg)] sm:text-4xl\">\n              От выбора до идеальной складки\n            </h2>\n            <p className=\"mt-3 max-w-xl text-sm leading-6 text-[color:var(--muted)] sm:text-base\">\n              Быстро, спокойно и профессионально. Без длинных объяснений — только\n              важное.\n            </p>\n\n            <div className=\"mt-8\">\n              {steps.map((s, idx) => (\n                <div\n                  key={s.title}\n                  data-kr-step={idx}\n                  className={`min-h-[42vh] py-10 transition sm:min-h-[48vh] ${\n                    idx !== 0 ? \"border-t border-black/5 dark:border-white/10\" : \"\"\n                  }`}\n                >\n                  <div className=\"flex h-full flex-col justify-center\">\n                    <div className=\"flex items-start gap-5\">\n                      <div\n                        className={`mt-0.5 w-14 shrink-0 tabular-nums tracking-tight transition ${\n                          active === idx\n                            ? \"text-base font-semibold text-[color:var(--fg)] sm:text-lg\"\n                            : \"text-base font-medium text-[color:var(--muted)] sm:text-lg\"\n                        }`}\n                      >\n                        {String(idx + 1).padStart(2, \"0\")}\n                      </div>\n\n                      <div\n                        className={`relative flex-1 pl-5 transition ${\n                          active === idx ? \"opacity-100\" : \"opacity-85\"\n                        }`}\n                      >\n                        <div\n                          className={`absolute left-0 top-0 h-full w-px transition ${\n                            active === idx\n                              ? \"bg-[color:var(--accent)]/70\"\n                              : \"bg-black/10 dark:bg-white/15\"\n                          }`}\n                          aria-hidden=\"true\"\n                        />\n\n                        <div className=\"text-2xl font-semibold tracking-tight text-[color:var(--fg)] sm:text-3xl\">\n                          {s.title}\n                        </div>\n                        <div className=\"mt-3 max-w-xl text-base leading-7 text-[color:var(--muted)] sm:text-lg\">\n                          {s.description}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </Container>\n    </section>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}